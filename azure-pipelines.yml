trigger:
  branches:
    include:
    - master
    - refs/tags/*
  paths:
    include:
    - src/*
    - extra/*
    - CMakeLists.txt

pr: none
    
jobs:
  #- job: 'windows'
  #  displayName: 'Windows test'
  #  timeoutInMinutes: 120
  #  pool:
  #    vmImage: 'windows-latest' 
  #  steps:
  #    - checkout: self
  #      fetchDepth: 1
  #    - template: templates/windows.yml
  
  - job: 'linux'
    displayName: 'Ubuntu Build'
    pool:
      vmImage: 'ubuntu-latest'
    steps:
      - checkout: self
        fetchDepth: 1
      - template: templates/linux.yml
  
  - job: 'osx'
    displayName: 'OSX Build'
    pool:
      vmImage: 'macos-latest'
    steps:
      - checkout: self
        fetchDepth: 1
      - template: templates/osx.yml